"use strict";(self["webpackChunkblog_system"]=self["webpackChunkblog_system"]||[]).push([[231],{231:function(e,l,o){o.r(l),o.d(l,{default:function(){return p}});var r=o(6768);const a={class:"login-container"},n={class:"login-options"};function s(e,l,o,s,i,u){const t=(0,r.g2)("el-input"),d=(0,r.g2)("el-form-item"),g=(0,r.g2)("el-button"),m=(0,r.g2)("el-form"),c=(0,r.g2)("router-link"),p=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(p,{class:"login-card"},{default:(0,r.k6)((()=>[l[4]||(l[4]=(0,r.Lk)("h2",null,"登录博客系统",-1)),(0,r.bF)(m,{model:s.loginForm,rules:s.rules,ref:"loginFormRef"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{prop:"email"},{default:(0,r.k6)((()=>[(0,r.bF)(t,{modelValue:s.loginForm.email,"onUpdate:modelValue":l[0]||(l[0]=e=>s.loginForm.email=e),placeholder:"请输入邮箱","prefix-icon":"el-icon-message"},null,8,["modelValue"])])),_:1}),(0,r.bF)(d,{prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(t,{modelValue:s.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.loginForm.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock","show-password":""},null,8,["modelValue"])])),_:1}),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,{type:"primary",loading:s.loading,onClick:s.handleLogin,class:"login-button"},{default:(0,r.k6)((()=>l[2]||(l[2]=[(0,r.eW)(" 登录 ")]))),_:1,__:[2]},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"]),(0,r.Lk)("div",n,[(0,r.bF)(c,{to:"/register"},{default:(0,r.k6)((()=>l[3]||(l[3]=[(0,r.eW)("没有账号？立即注册")]))),_:1,__:[3]})])])),_:1,__:[4]})])}o(4114);var i=o(144),u=o(1387),t=o(782),d=o(1219),g={name:"LoginView",setup(){const e=(0,u.rd)(),l=(0,t.Pj)(),o=(0,i.KR)(null),r=(0,i.KR)(!1),a=(0,i.Kh)({email:"",password:""}),n={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},s=()=>{o.value.validate((async o=>{if(o){r.value=!0;try{await l.dispatch("user/login",a),d.nk.success("登录成功"),e.push("/")}catch(n){d.nk.error(n.message||"登录失败")}finally{r.value=!1}}}))};return{loginFormRef:o,loginForm:a,rules:n,loading:r,handleLogin:s}}},m=o(1241);const c=(0,m.A)(g,[["render",s],["__scopeId","data-v-469f4f6e"]]);var p=c}}]);
//# sourceMappingURL=231.70c87a86.js.map