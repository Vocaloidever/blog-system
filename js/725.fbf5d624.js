"use strict";(self["webpackChunkblog_system"]=self["webpackChunkblog_system"]||[]).push([[725],{5725:function(e,t,a){a.r(t),a.d(t,{default:function(){return le}});var l=a(6768),n=a(4232);const s={class:"article-detail-container"},o={class:"skeleton-header"},i={class:"skeleton-meta"},c={key:0},r={class:"article-header"},u={class:"article-title"},m={class:"article-meta"},d={class:"author"},p={class:"date"},v={class:"category"},k={class:"views"},h={class:"comments"},C=["innerHTML"],y={class:"article-actions"},L={class:"article-tags"},_={class:"article-author-info"},b={class:"author-avatar"},g=["src","alt"],f={class:"author-details"},w={class:"comments-section"},F={class:"comment-form"},V={class:"comments-list"},W={key:0,class:"no-comments"},A={class:"comment-avatar"},M=["src","alt"],R={class:"comment-content"},K={class:"comment-header"},X={class:"comment-author"},T={class:"comment-date"},$={class:"comment-text"},E={class:"comment-actions"},D=["onClick"],x=["onClick"],I={key:0,class:"replies-list"},P={class:"reply-avatar"},Q=["src","alt"],S={class:"reply-content"},z={class:"reply-header"},B={class:"reply-author"},H={class:"reply-target"},U={class:"reply-date"},q={class:"reply-text"},J={key:1,class:"reply-form"},j={class:"reply-actions"},G={key:0,class:"load-more"};function N(e,t,a,N,O,Y){const Z=(0,l.g2)("el-skeleton-item"),ee=(0,l.g2)("el-button"),te=(0,l.g2)("el-tag"),ae=(0,l.g2)("el-input"),le=(0,l.g2)("el-empty"),ne=(0,l.g2)("el-skeleton");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(ne,{loading:N.loading,animated:""},{template:(0,l.k6)((()=>[(0,l.Lk)("div",o,[(0,l.bF)(Z,{variant:"h1",style:{width:"50%"}}),(0,l.Lk)("div",i,[(0,l.bF)(Z,{variant:"text",style:{width:"20%"}}),(0,l.bF)(Z,{variant:"text",style:{width:"15%"}}),(0,l.bF)(Z,{variant:"text",style:{width:"15%"}})])]),(0,l.bF)(Z,{variant:"p",style:{width:"100%"}}),(0,l.bF)(Z,{variant:"p",style:{width:"100%"}}),(0,l.bF)(Z,{variant:"p",style:{width:"100%"}}),(0,l.bF)(Z,{variant:"p",style:{width:"90%"}}),(0,l.bF)(Z,{variant:"p",style:{width:"95%"}})])),default:(0,l.k6)((()=>[N.article?((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",r,[(0,l.Lk)("h1",u,(0,n.v_)(N.article.title),1),(0,l.Lk)("div",m,[(0,l.Lk)("span",d,[t[2]||(t[2]=(0,l.Lk)("i",{class:"el-icon-user"},null,-1)),(0,l.eW)(" "+(0,n.v_)(N.article.author),1)]),(0,l.Lk)("span",p,[t[3]||(t[3]=(0,l.Lk)("i",{class:"el-icon-date"},null,-1)),(0,l.eW)(" "+(0,n.v_)(N.article.publishDate),1)]),(0,l.Lk)("span",v,[t[4]||(t[4]=(0,l.Lk)("i",{class:"el-icon-collection-tag"},null,-1)),(0,l.eW)(" "+(0,n.v_)(N.article.category),1)]),(0,l.Lk)("span",k,[t[5]||(t[5]=(0,l.Lk)("i",{class:"el-icon-view"},null,-1)),(0,l.eW)(" "+(0,n.v_)(N.article.viewCount)+" 阅读 ",1)]),(0,l.Lk)("span",h,[t[6]||(t[6]=(0,l.Lk)("i",{class:"el-icon-chat-dot-round"},null,-1)),(0,l.eW)(" "+(0,n.v_)(N.article.commentCount)+" 评论 ",1)])])]),(0,l.Lk)("div",{class:"article-content",innerHTML:N.article.content},null,8,C),(0,l.Lk)("div",y,[(0,l.bF)(ee,{type:"primary",onClick:N.likeArticle,disabled:N.hasLiked},{default:(0,l.k6)((()=>[t[7]||(t[7]=(0,l.Lk)("i",{class:"el-icon-star-off"},null,-1)),(0,l.eW)(" "+(0,n.v_)(N.hasLiked?"已点赞":"点赞")+" ("+(0,n.v_)(N.article.likeCount)+") ",1)])),_:1,__:[7]},8,["onClick","disabled"]),(0,l.bF)(ee,{onClick:N.shareArticle},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.Lk)("i",{class:"el-icon-share"},null,-1),(0,l.eW)(" 分享 ")]))),_:1,__:[8]},8,["onClick"])]),(0,l.Lk)("div",L,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(N.article.tags,(e=>((0,l.uX)(),(0,l.Wv)(te,{key:e,size:"small"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e),1)])),_:2},1024)))),128))]),(0,l.Lk)("div",_,[(0,l.Lk)("div",b,[(0,l.Lk)("img",{src:N.article.authorAvatar,alt:N.article.author},null,8,g)]),(0,l.Lk)("div",f,[(0,l.Lk)("h3",null,(0,n.v_)(N.article.author),1),(0,l.Lk)("p",null,(0,n.v_)(N.article.authorBio),1)])]),(0,l.Lk)("div",w,[(0,l.Lk)("h2",null,"评论 ("+(0,n.v_)(N.article.commentCount)+")",1),(0,l.Lk)("div",F,[(0,l.bF)(ae,{modelValue:N.commentContent,"onUpdate:modelValue":t[0]||(t[0]=e=>N.commentContent=e),type:"textarea",rows:4,placeholder:"写下你的评论..."},null,8,["modelValue"]),(0,l.bF)(ee,{type:"primary",onClick:N.submitComment,disabled:!N.commentContent.trim(),class:"submit-comment"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)(" 发表评论 ")]))),_:1,__:[9]},8,["onClick","disabled"])]),(0,l.Lk)("div",V,[0===N.comments.length?((0,l.uX)(),(0,l.CE)("div",W," 暂无评论，快来发表第一条评论吧！ ")):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(N.comments,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"comment-item"},[(0,l.Lk)("div",A,[(0,l.Lk)("img",{src:e.avatar,alt:e.username},null,8,M)]),(0,l.Lk)("div",R,[(0,l.Lk)("div",K,[(0,l.Lk)("span",X,(0,n.v_)(e.username),1),(0,l.Lk)("span",T,(0,n.v_)(e.date),1)]),(0,l.Lk)("div",$,(0,n.v_)(e.content),1),(0,l.Lk)("div",E,[(0,l.Lk)("span",{onClick:t=>N.replyToComment(e)},"回复",8,D),(0,l.Lk)("span",{onClick:t=>N.likeComment(e)},(0,n.v_)(e.hasLiked?"已点赞":"点赞")+" ("+(0,n.v_)(e.likeCount)+") ",9,x)]),e.replies&&e.replies.length>0?((0,l.uX)(),(0,l.CE)("div",I,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.replies,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"reply-item"},[(0,l.Lk)("div",P,[(0,l.Lk)("img",{src:e.avatar,alt:e.username},null,8,Q)]),(0,l.Lk)("div",S,[(0,l.Lk)("div",z,[(0,l.Lk)("span",B,(0,n.v_)(e.username),1),t[10]||(t[10]=(0,l.Lk)("span",{class:"reply-to"},"回复",-1)),(0,l.Lk)("span",H,(0,n.v_)(e.replyTo),1),(0,l.Lk)("span",U,(0,n.v_)(e.date),1)]),(0,l.Lk)("div",q,(0,n.v_)(e.content),1)])])))),128))])):(0,l.Q3)("",!0),N.replyingTo===e.id?((0,l.uX)(),(0,l.CE)("div",J,[(0,l.bF)(ae,{modelValue:N.replyContent,"onUpdate:modelValue":t[1]||(t[1]=e=>N.replyContent=e),type:"textarea",rows:2,placeholder:`回复 ${e.username}...`},null,8,["modelValue","placeholder"]),(0,l.Lk)("div",j,[(0,l.bF)(ee,{size:"small",onClick:N.cancelReply},{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("取消")]))),_:1,__:[11]},8,["onClick"]),(0,l.bF)(ee,{type:"primary",size:"small",onClick:t=>N.submitReply(e),disabled:!N.replyContent.trim()},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)(" 回复 ")]))),_:2,__:[12]},1032,["onClick","disabled"])])])):(0,l.Q3)("",!0)])])))),128))]),N.hasMoreComments?((0,l.uX)(),(0,l.CE)("div",G,[(0,l.bF)(ee,{onClick:N.loadMoreComments,loading:N.loadingComments},{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)(" 加载更多评论 ")]))),_:1,__:[13]},8,["onClick","loading"])])):(0,l.Q3)("",!0)])])):((0,l.uX)(),(0,l.Wv)(le,{key:1,description:"文章不存在或已被删除"}))])),_:1},8,["loading"])])}a(4114);var O=a(144),Y=a(1387),Z=a(1219),ee={name:"ArticleDetailView",setup(){const e=(0,Y.lq)(),t=((0,Y.rd)(),(0,O.KR)(!0)),a=(0,O.KR)(null),n=(0,O.KR)([]),s=(0,O.KR)(""),o=(0,O.KR)(""),i=(0,O.KR)(null),c=(0,O.KR)(!1),r=(0,O.KR)(!1),u=(0,O.KR)(!0),m=(0,O.KR)(1),d=async()=>{const l=e.params.id;t.value=!0;try{setTimeout((()=>{a.value={id:l,title:`详细文章标题 ${l}`,author:"张三",authorAvatar:"https://picsum.photos/id/1005/100/100",authorBio:"资深前端工程师，热爱技术分享和开源项目贡献。",publishDate:"2023-05-15",category:"技术",viewCount:1250,commentCount:28,likeCount:156,tags:["JavaScript","Vue","前端开发","博客系统"],content:"\n              <p>这是一篇关于Vue开发的详细教程。</p>\n              <h2>Vue 3的新特性</h2>\n              <p>Vue 3带来了许多令人兴奋的新特性，包括Composition API、更好的TypeScript支持、更小的包体积等。</p>\n              <p>在本文中，我们将深入探讨如何利用这些新特性构建高性能的Web应用。</p>\n              <h3>Composition API</h3>\n              <p>Composition API是Vue 3中最重要的新特性之一，它提供了一种更灵活的方式来组织组件逻辑。</p>\n              <pre><code>\n              import { ref, onMounted } from 'vue'\n\n              export default {\n                setup() {\n                  const count = ref(0)\n                  \n                  function increment() {\n                    count.value++\n                  }\n                  \n                  onMounted(() => {\n                    console.log('Component mounted!')\n                  })\n                  \n                  return {\n                    count,\n                    increment\n                  }\n                }\n              }\n              </code></pre>\n              <p>通过Composition API，我们可以更好地重用逻辑，提高代码的可维护性。</p>\n              <h2>结论</h2>\n              <p>Vue 3为前端开发带来了许多改进，使得构建复杂应用变得更加简单和高效。希望本文对你有所帮助！</p>\n            "},t.value=!1,p()}),800)}catch(n){Z.nk.error("获取文章详情失败"),t.value=!1}},p=async()=>{r.value=!0;try{setTimeout((()=>{const e=Array.from({length:5},((e,t)=>{const l=`comment-${m.value}-${t}`;return{id:l,username:`用户${Math.floor(1e3*Math.random())}`,avatar:`https://picsum.photos/id/${20+t}/50/50`,content:`这是第${m.value}页的第${t+1}条评论。Vue确实是一个很棒的框架，这篇文章写得非常详细，感谢分享！`,date:"2023-05-16",likeCount:Math.floor(20*Math.random()),hasLiked:!1,replies:t%2===0?[{id:`reply-${l}-1`,username:"作者",avatar:a.value.authorAvatar,content:"谢谢你的评论，很高兴你喜欢这篇文章！",date:"2023-05-16",replyTo:`用户${Math.floor(1e3*Math.random())}`}]:[]}}));1===m.value?n.value=e:n.value=[...n.value,...e],u.value=m.value<3,r.value=!1}),500)}catch(e){Z.nk.error("获取评论失败"),r.value=!1}},v=()=>{m.value++,p()},k=()=>{if(!s.value.trim())return;const e={id:`comment-new-${Date.now()}`,username:"当前用户",avatar:"https://picsum.photos/id/1010/50/50",content:s.value,date:(new Date).toLocaleDateString(),likeCount:0,hasLiked:!1,replies:[]};n.value.unshift(e),a.value.commentCount++,s.value="",Z.nk.success("评论发表成功")},h=e=>{i.value=e.id,o.value=""},C=()=>{i.value=null,o.value=""},y=e=>{if(!o.value.trim())return;const t={id:`reply-new-${Date.now()}`,username:"当前用户",avatar:"https://picsum.photos/id/1010/50/50",content:o.value,date:(new Date).toLocaleDateString(),replyTo:e.username};e.replies||(e.replies=[]),e.replies.push(t),a.value.commentCount++,o.value="",i.value=null,Z.nk.success("回复发表成功")},L=()=>{c.value||(a.value.likeCount++,c.value=!0,Z.nk.success("点赞成功"))},_=e=>{e.hasLiked||(e.likeCount++,e.hasLiked=!0,Z.nk.success("点赞成功"))},b=()=>{Z.nk.info("分享功能开发中...")};return(0,l.sV)((()=>{d()})),{loading:t,article:a,comments:n,commentContent:s,replyContent:o,replyingTo:i,hasLiked:c,loadingComments:r,hasMoreComments:u,submitComment:k,replyToComment:h,cancelReply:C,submitReply:y,likeArticle:L,likeComment:_,shareArticle:b,loadMoreComments:v}}},te=a(1241);const ae=(0,te.A)(ee,[["render",N],["__scopeId","data-v-d9ab7d66"]]);var le=ae}}]);
//# sourceMappingURL=725.fbf5d624.js.map