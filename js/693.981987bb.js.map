{"version":3,"file":"js/693.981987bb.js","mappings":"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","sources":["webpack://blog-system/./src/views/ProfileView.vue","webpack://blog-system/./src/utils/validate.js","webpack://blog-system/./src/views/ProfileView.vue?3e49"],"sourcesContent":["<template>\r\n  <div class=\"profile-container\">\r\n    <el-card class=\"profile-card\">\r\n      <div class=\"profile-header\">\r\n        <div class=\"profile-avatar\">\r\n          <el-avatar :size=\"100\" :src=\"userInfo.avatar\"></el-avatar>\r\n          <div class=\"avatar-upload\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"#\"\r\n              :http-request=\"uploadAvatar\"\r\n              :show-file-list=\"false\"\r\n              :before-upload=\"beforeAvatarUpload\"\r\n            >\r\n              <el-button size=\"small\" type=\"primary\">更换头像</el-button>\r\n            </el-upload>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"profile-info\">\r\n          <h1>{{ userInfo.username }}</h1>\r\n          <p class=\"user-bio\">{{ userInfo.bio || '这个人很懒，还没有填写个人简介' }}</p>\r\n          <div class=\"user-stats\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ stats.articles }}</div>\r\n              <div class=\"stat-label\">文章</div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ stats.comments }}</div>\r\n              <div class=\"stat-label\">评论</div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ stats.likes }}</div>\r\n              <div class=\"stat-label\">获赞</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <el-tabs v-model=\"activeTab\" class=\"profile-tabs\">\r\n        <el-tab-pane label=\"个人资料\" name=\"info\">\r\n          <el-form \r\n            :model=\"profileForm\" \r\n            :rules=\"rules\" \r\n            ref=\"profileFormRef\" \r\n            label-width=\"100px\"\r\n            class=\"profile-form\"\r\n          >\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input v-model=\"profileForm.username\"></el-input>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n              <el-input v-model=\"profileForm.email\" disabled></el-input>\r\n              <div class=\"form-tip\">邮箱地址不可修改</div>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"个人简介\" prop=\"bio\">\r\n              <el-input \r\n                v-model=\"profileForm.bio\" \r\n                type=\"textarea\" \r\n                :rows=\"4\"\r\n                placeholder=\"介绍一下自己吧\"\r\n                maxlength=\"200\"\r\n                show-word-limit\r\n              ></el-input>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"个人网站\" prop=\"website\">\r\n              <el-input v-model=\"profileForm.website\" placeholder=\"http://\"></el-input>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"所在地\" prop=\"location\">\r\n              <el-input v-model=\"profileForm.location\"></el-input>\r\n            </el-form-item>\r\n            \r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"updateProfile\" :loading=\"updating\">保存修改</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n        \r\n        <el-tab-pane label=\"修改密码\" name=\"password\">\r\n          <el-form \r\n            :model=\"passwordForm\" \r\n            :rules=\"passwordRules\" \r\n            ref=\"passwordFormRef\" \r\n            label-width=\"100px\"\r\n            class=\"password-form\"\r\n          >\r\n            <el-form-item label=\"当前密码\" prop=\"currentPassword\">\r\n              <el-input \r\n                v-model=\"passwordForm.currentPassword\" \r\n                type=\"password\"\r\n                show-password\r\n              ></el-input>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"新密码\" prop=\"newPassword\">\r\n              <el-input \r\n                v-model=\"passwordForm.newPassword\" \r\n                type=\"password\"\r\n                show-password\r\n              ></el-input>\r\n              <div class=\"form-tip\">密码长度至少为8位，包含大小写字母和数字</div>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"确认新密码\" prop=\"confirmPassword\">\r\n              <el-input \r\n                v-model=\"passwordForm.confirmPassword\" \r\n                type=\"password\"\r\n                show-password\r\n              ></el-input>\r\n            </el-form-item>\r\n            \r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"updatePassword\" :loading=\"updatingPassword\">更新密码</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n        \r\n        <el-tab-pane label=\"我的收藏\" name=\"favorites\">\r\n          <div v-if=\"favorites.length === 0\" class=\"empty-state\">\r\n            <el-empty description=\"暂无收藏文章\"></el-empty>\r\n          </div>\r\n          \r\n          <div v-else class=\"favorites-list\">\r\n            <div v-for=\"article in favorites\" :key=\"article.id\" class=\"favorite-item\">\r\n              <div class=\"favorite-info\">\r\n                <h3 @click=\"$router.push(`/article/${article.id}`)\">{{ article.title }}</h3>\r\n                <div class=\"favorite-meta\">\r\n                  <span><i class=\"el-icon-user\"></i> {{ article.author }}</span>\r\n                  <span><i class=\"el-icon-date\"></i> {{ article.publishDate }}</span>\r\n                  <span><i class=\"el-icon-collection-tag\"></i> {{ article.category }}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"favorite-actions\">\r\n                <el-button \r\n                  size=\"small\" \r\n                  type=\"danger\" \r\n                  @click=\"removeFavorite(article.id)\"\r\n                  icon=\"el-icon-delete\"\r\n                  circle\r\n                  plain\r\n                ></el-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { ElMessage } from 'element-plus'\r\nimport { validateEmail, validatePassword } from '@/utils/validate'\r\n\r\nexport default {\r\n  name: 'ProfileView',\r\n  setup() {\r\n    const store = useStore()\r\n    const profileFormRef = ref(null)\r\n    const passwordFormRef = ref(null)\r\n    const activeTab = ref('info')\r\n    const updating = ref(false)\r\n    const updatingPassword = ref(false)\r\n    \r\n    // 用户信息\r\n    const userInfo = computed(() => store.state.user.userInfo || {})\r\n    \r\n    // 用户统计数据\r\n    const stats = reactive({\r\n      articles: 12,\r\n      comments: 48,\r\n      likes: 156\r\n    })\r\n    \r\n    // 个人资料表单\r\n    const profileForm = reactive({\r\n      username: userInfo.value?.username || '',\r\n      email: userInfo.value?.email || '',\r\n      bio: userInfo.value?.bio || '',\r\n      website: userInfo.value?.website || '',\r\n      location: userInfo.value?.location || ''\r\n    })\r\n    \r\n    // 修改密码表单\r\n    const passwordForm = reactive({\r\n      currentPassword: '',\r\n      newPassword: '',\r\n      confirmPassword: ''\r\n    })\r\n    \r\n    // 收藏文章\r\n    const favorites = ref([])\r\n    \r\n    // 表单验证规则\r\n    const rules = {\r\n      username: [\r\n        { required: true, message: '请输入用户名', trigger: 'blur' },\r\n        { min: 3, max: 20, message: '用户名长度在3到20个字符之间', trigger: 'blur' }\r\n      ],\r\n      bio: [\r\n        { max: 200, message: '个人简介不能超过200个字符', trigger: 'blur' }\r\n      ],\r\n      website: [\r\n        { pattern: /^(https?:\\/\\/)?([\\da-z.-]+)\\.([a-z.]{2,6})([/\\w.-]*)*\\/?$/, message: '请输入有效的网址', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // 密码表单验证规则\r\n    const passwordRules = {\r\n      currentPassword: [\r\n        { required: true, message: '请输入当前密码', trigger: 'blur' }\r\n      ],\r\n      newPassword: [\r\n        { required: true, message: '请输入新密码', trigger: 'blur' },\r\n        { validator: (rule, value, callback) => {\r\n          if (!validatePassword(value)) {\r\n            callback(new Error('密码长度至少为8位，包含大小写字母和数字'))\r\n          } else {\r\n            callback()\r\n          }\r\n        }, trigger: 'blur' }\r\n      ],\r\n      confirmPassword: [\r\n        { required: true, message: '请确认新密码', trigger: 'blur' },\r\n        { validator: (rule, value, callback) => {\r\n          if (value !== passwordForm.newPassword) {\r\n            callback(new Error('两次输入的密码不一致'))\r\n          } else {\r\n            callback()\r\n          }\r\n        }, trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // 更新个人资料\r\n    const updateProfile = () => {\r\n      profileFormRef.value.validate(async (valid) => {\r\n        if (!valid) return\r\n        \r\n        updating.value = true\r\n        try {\r\n          // 实际项目中应调用API，这里模拟更新\r\n          await store.dispatch('user/updateUserInfo', {\r\n            ...userInfo.value,\r\n            ...profileForm\r\n          })\r\n          \r\n          ElMessage.success('个人资料更新成功')\r\n        } catch (error) {\r\n          ElMessage.error('更新个人资料失败')\r\n        } finally {\r\n          updating.value = false\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 更新密码\r\n    const updatePassword = () => {\r\n      passwordFormRef.value.validate(async (valid) => {\r\n        if (!valid) return\r\n        \r\n        updatingPassword.value = true\r\n        try {\r\n          // 实际项目中应调用API，这里模拟更新\r\n          setTimeout(() => {\r\n            ElMessage.success('密码更新成功')\r\n            passwordForm.currentPassword = ''\r\n            passwordForm.newPassword = ''\r\n            passwordForm.confirmPassword = ''\r\n            updatingPassword.value = false\r\n          }, 1000)\r\n        } catch (error) {\r\n          ElMessage.error('更新密码失败')\r\n          updatingPassword.value = false\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 上传头像前验证\r\n    const beforeAvatarUpload = (file) => {\r\n      const isJPG = file.type === 'image/jpeg'\r\n      const isPNG = file.type === 'image/png'\r\n      const isLt2M = file.size / 1024 / 1024 < 2\r\n      \r\n      if (!isJPG && !isPNG) {\r\n        ElMessage.error('头像只能是JPG或PNG格式!')\r\n        return false\r\n      }\r\n      \r\n      if (!isLt2M) {\r\n        ElMessage.error('头像大小不能超过2MB!')\r\n        return false\r\n      }\r\n      \r\n      return true\r\n    }\r\n    \r\n    // 上传头像\r\n    const uploadAvatar = (options) => {\r\n      const file = options.file\r\n      \r\n      // 实际项目中应上传到服务器，这里使用本地FileReader模拟\r\n      const reader = new FileReader()\r\n      reader.readAsDataURL(file)\r\n      reader.onload = () => {\r\n        // 更新用户头像\r\n        store.dispatch('user/updateUserInfo', {\r\n          ...userInfo.value,\r\n          avatar: reader.result\r\n        })\r\n        \r\n        ElMessage.success('头像更新成功')\r\n      }\r\n    }\r\n    \r\n    // 移除收藏\r\n    const removeFavorite = (id) => {\r\n      favorites.value = favorites.value.filter(item => item.id !== id)\r\n      ElMessage.success('已从收藏中移除')\r\n    }\r\n    \r\n    // 加载收藏文章\r\n    const loadFavorites = () => {\r\n      // 模拟数据\r\n      favorites.value = Array.from({ length: 5 }, (_, index) => ({\r\n        id: `fav-${index + 1}`,\r\n        title: `收藏的文章标题 ${index + 1}`,\r\n        author: '王五',\r\n        publishDate: '2023-05-10',\r\n        category: '技术'\r\n      }))\r\n    }\r\n    \r\n    onMounted(() => {\r\n      // 初始化表单数据\r\n      Object.assign(profileForm, {\r\n        username: userInfo.value.username || '',\r\n        email: userInfo.value.email || '',\r\n        bio: userInfo.value.bio || '',\r\n        website: userInfo.value.website || '',\r\n        location: userInfo.value.location || ''\r\n      })\r\n      \r\n      loadFavorites()\r\n    })\r\n    \r\n    return {\r\n      profileFormRef,\r\n      passwordFormRef,\r\n      activeTab,\r\n      userInfo,\r\n      stats,\r\n      profileForm,\r\n      passwordForm,\r\n      favorites,\r\n      rules,\r\n      passwordRules,\r\n      updating,\r\n      updatingPassword,\r\n      updateProfile,\r\n      updatePassword,\r\n      beforeAvatarUpload,\r\n      uploadAvatar,\r\n      removeFavorite\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n  padding: 30px 20px;\r\n}\r\n\r\n.profile-card {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.profile-header {\r\n  display: flex;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.profile-avatar {\r\n  margin-right: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.avatar-upload {\r\n  margin-top: 15px;\r\n}\r\n\r\n.profile-info {\r\n  flex: 1;\r\n}\r\n\r\n.profile-info h1 {\r\n  margin-top: 0;\r\n  margin-bottom: 10px;\r\n  font-size: 24px;\r\n}\r\n\r\n.user-bio {\r\n  color: #606266;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.user-stats {\r\n  display: flex;\r\n  gap: 30px;\r\n}\r\n\r\n.stat-item {\r\n  text-align: center;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  color: #909399;\r\n}\r\n\r\n.profile-tabs {\r\n  margin-top: 20px;\r\n}\r\n\r\n.profile-form, .password-form {\r\n  max-width: 500px;\r\n}\r\n\r\n.form-tip {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-top: 5px;\r\n}\r\n\r\n.empty-state {\r\n  padding: 30px 0;\r\n}\r\n\r\n.favorites-list {\r\n  margin-top: 20px;\r\n}\r\n\r\n.favorite-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #EBEEF5;\r\n}\r\n\r\n.favorite-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.favorite-info h3 {\r\n  margin: 0 0 10px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.favorite-info h3:hover {\r\n  color: #409EFF;\r\n}\r\n\r\n.favorite-meta {\r\n  display: flex;\r\n  gap: 15px;\r\n  font-size: 13px;\r\n  color: #909399;\r\n}\r\n</style>\r\n","/**\r\n * 验证邮箱格式\r\n * @param {string} email\r\n * @returns {boolean}\r\n */\r\n// 修复正则表达式中的不必要转义\r\nexport function validateEmail(email) {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n  return re.test(String(email).toLowerCase())\r\n}\r\n\r\n\r\n/**\r\n * 验证URL格式\r\n * @param {string} url\r\n * @returns {boolean}\r\n */\r\nexport function validateURL(url) {\r\n  const reg = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/\r\n  return reg.test(url)\r\n}\r\n\r\n/**\r\n * 验证密码强度\r\n * @param {string} password\r\n * @returns {boolean}\r\n */\r\nexport function validatePassword(password) {\r\n  // 至少8位，包含大小写字母和数字\r\n  const reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/\r\n  return reg.test(password)\r\n}\r\n\r\n/**\r\n * 验证手机号码\r\n * @param {string} phone\r\n * @returns {boolean}\r\n */\r\nexport function validatePhone(phone) {\r\n  const reg = /^1[3-9]\\d{9}$/\r\n  return reg.test(phone)\r\n}\r\n","import { render } from \"./ProfileView.vue?vue&type=template&id=373474e6&scoped=true\"\nimport script from \"./ProfileView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileView.vue?vue&type=style&index=0&id=373474e6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-373474e6\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_createElementVNode","_hoisted_2","_hoisted_3","_component_el_avatar","size","src","$setup","userInfo","avatar","_hoisted_4","_component_el_upload","action","uploadAvatar","beforeAvatarUpload","_component_el_button","type","_cache","_hoisted_5","_toDisplayString","username","_hoisted_6","bio","_hoisted_7","_hoisted_8","_hoisted_9","stats","articles","_hoisted_10","_hoisted_11","comments","_hoisted_12","_hoisted_13","likes","_component_el_tabs","activeTab","$event","_component_el_tab_pane","label","name","_component_el_form","model","profileForm","rules","ref","_component_el_form_item","prop","_component_el_input","email","disabled","rows","placeholder","maxlength","website","location","onClick","updateProfile","loading","updating","passwordForm","passwordRules","currentPassword","newPassword","confirmPassword","updatePassword","updatingPassword","favorites","length","_hoisted_14","_component_el_empty","description","_hoisted_15","_Fragment","_renderList","article","key","id","_hoisted_16","_ctx","$router","push","title","_hoisted_17","_hoisted_18","author","publishDate","category","_hoisted_19","removeFavorite","icon","circle","plain","validatePassword","password","reg","test","setup","store","useStore","profileFormRef","passwordFormRef","computed","state","user","reactive","value","required","message","trigger","min","max","pattern","validator","rule","callback","Error","validate","async","valid","dispatch","ElMessage","success","error","setTimeout","file","isJPG","isPNG","isLt2M","options","reader","FileReader","readAsDataURL","onload","result","filter","item","loadFavorites","Array","from","_","index","onMounted","Object","assign","__exports__","render"],"sourceRoot":""}