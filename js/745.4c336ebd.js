"use strict";(self["webpackChunkblog_system"]=self["webpackChunkblog_system"]||[]).push([[745],{8126:function(e,a,l){l.r(a),l.d(a,{default:function(){return I}});var o=l(6768),t=l(4232),n=l(5130);const r={class:"category-container"},c={key:0,class:"loading-container"},i={class:"category-header-content"},s={class:"category-icon"},u={class:"category-stats"},d={class:"filter-bar"},v={class:"article-list"},g={key:1,class:"article-grid"},p=["onClick"],h={class:"article-image"},m=["src","alt"],k={class:"article-content"},y={class:"article-title"},C={class:"article-summary"},L={class:"article-meta"},b={class:"pagination-container"};function f(e,a,l,f,w,E){const K=(0,o.g2)("el-skeleton"),_=(0,o.g2)("el-option"),F=(0,o.g2)("el-select"),W=(0,o.g2)("el-input"),I=(0,o.g2)("el-empty"),S=(0,o.g2)("el-pagination");return(0,o.uX)(),(0,o.CE)("div",r,[f.loading?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.bF)(K,{rows:10,animated:""})])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("div",{class:"category-header",style:(0,t.Tr)(f.headerStyle)},[(0,o.Lk)("div",i,[(0,o.Lk)("div",s,[(0,o.Lk)("i",{class:(0,t.C4)(f.categoryIcon)},null,2)]),(0,o.Lk)("h1",null,(0,t.v_)(f.categoryName),1),(0,o.Lk)("p",null,(0,t.v_)(f.categoryDescription),1),(0,o.Lk)("div",u,[(0,o.Lk)("span",null,(0,t.v_)(f.total)+" 篇文章",1)])])],4),(0,o.Lk)("div",d,[(0,o.bF)(F,{modelValue:f.sortOption,"onUpdate:modelValue":a[0]||(a[0]=e=>f.sortOption=e),placeholder:"排序方式",onChange:f.handleSortChange},{default:(0,o.k6)((()=>[(0,o.bF)(_,{label:"最新发布",value:"newest"}),(0,o.bF)(_,{label:"最多阅读",value:"most-read"}),(0,o.bF)(_,{label:"最多评论",value:"most-comments"})])),_:1},8,["modelValue","onChange"]),(0,o.bF)(W,{modelValue:f.searchKeyword,"onUpdate:modelValue":a[1]||(a[1]=e=>f.searchKeyword=e),placeholder:"在当前分类中搜索","prefix-icon":"el-icon-search",clearable:"",onKeyup:(0,n.jR)(f.handleSearch,["enter"])},null,8,["modelValue","onKeyup"])]),(0,o.Lk)("div",v,[0===f.articles.length?((0,o.uX)(),(0,o.Wv)(I,{key:0,description:"暂无文章"})):((0,o.uX)(),(0,o.CE)("div",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.articles,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"article-card",onClick:a=>f.viewArticle(e.id)},[(0,o.Lk)("div",h,[(0,o.Lk)("img",{src:e.coverImage,alt:e.title},null,8,m)]),(0,o.Lk)("div",k,[(0,o.Lk)("h3",y,(0,t.v_)(e.title),1),(0,o.Lk)("p",C,(0,t.v_)(e.summary),1),(0,o.Lk)("div",L,[(0,o.Lk)("span",null,[a[2]||(a[2]=(0,o.Lk)("i",{class:"el-icon-user"},null,-1)),(0,o.eW)(" "+(0,t.v_)(e.author),1)]),(0,o.Lk)("span",null,[a[3]||(a[3]=(0,o.Lk)("i",{class:"el-icon-date"},null,-1)),(0,o.eW)(" "+(0,t.v_)(e.publishDate),1)]),(0,o.Lk)("span",null,[a[4]||(a[4]=(0,o.Lk)("i",{class:"el-icon-view"},null,-1)),(0,o.eW)(" "+(0,t.v_)(e.viewCount),1)]),(0,o.Lk)("span",null,[a[5]||(a[5]=(0,o.Lk)("i",{class:"el-icon-chat-dot-round"},null,-1)),(0,o.eW)(" "+(0,t.v_)(e.commentCount),1)])])])],8,p)))),128))])),(0,o.Lk)("div",b,[(0,o.bF)(S,{background:"",layout:"prev, pager, next",total:f.total,"page-size":f.pageSize,"current-page":f.currentPage,onCurrentChange:f.handlePageChange},null,8,["total","page-size","current-page","onCurrentChange"])])])],64))])}l(4114);var w=l(144),E=l(1387),K=l(1219),_={name:"CategoryView",setup(){const e=(0,E.lq)(),a=(0,E.rd)(),l=(0,w.KR)([]),t=(0,w.KR)(!0),n=(0,w.KR)(0),r=(0,w.KR)(1),c=(0,w.KR)(10),i=(0,w.KR)(""),s=(0,w.KR)("newest"),u=[{id:"1",name:"技术",icon:"el-icon-monitor",color:"#409EFF",description:"探索最新的技术趋势、编程语言、框架和工具，分享开发经验和最佳实践。"},{id:"2",name:"生活",icon:"el-icon-coffee-cup",color:"#67C23A",description:"记录日常生活中的点滴，分享生活方式、旅行见闻和个人感悟。"},{id:"3",name:"随笔",icon:"el-icon-notebook-2",color:"#E6A23C",description:"自由表达的空间，记录灵感、思考和创意，不拘泥于形式的文字集合。"},{id:"4",name:"教程",icon:"el-icon-reading",color:"#F56C6C",description:"详细的步骤指南和实用教程，帮助读者学习新技能和解决实际问题。"}],d=(0,o.EW)((()=>e.params.id)),v=(0,o.EW)((()=>u.find((e=>e.id===d.value))||{name:"未知分类",icon:"el-icon-question",color:"#909399",description:"该分类不存在或已被删除"})),g=(0,o.EW)((()=>v.value.name)),p=(0,o.EW)((()=>v.value.icon)),h=(0,o.EW)((()=>v.value.description)),m=(0,o.EW)((()=>({backgroundColor:v.value.color,color:"#fff"}))),k=async()=>{t.value=!0,console.log("Loading articles for category:",d.value);try{r.value,c.value,d.value,i.value,s.value;setTimeout((()=>{const e=Array.from({length:10},((e,a)=>({id:`${d.value}-${r.value}-${a}`,title:`${g.value}分类文章 ${r.value}-${a}`,summary:"这是文章摘要，简要介绍文章的主要内容和核心观点，吸引读者点击阅读全文...",author:"作者名称",publishDate:(new Date).toLocaleDateString(),category:g.value,viewCount:Math.floor(1e3*Math.random()),commentCount:Math.floor(50*Math.random()),coverImage:`https://picsum.photos/id/${10*parseInt(d.value)+a+10}/600/400`})));l.value=e,n.value=100,t.value=!1}),800)}catch(e){console.error("Failed to load articles:",e),K.nk.error("获取文章列表失败"),t.value=!1}},y=e=>{a.push(`/article/${e}`)},C=()=>{r.value=1,k()},L=()=>{r.value=1,k()},b=e=>{r.value=e,k()};return(0,o.wB)((()=>e.params.id),(e=>{console.log("Category ID changed to:",e),r.value=1,i.value="",s.value="newest",k()})),(0,o.sV)((()=>{console.log("CategoryView mounted, ID:",d.value),k()})),{articles:l,loading:t,total:n,currentPage:r,pageSize:c,searchKeyword:i,sortOption:s,categoryName:g,categoryIcon:p,categoryDescription:h,headerStyle:m,viewArticle:y,handleSearch:C,handleSortChange:L,handlePageChange:b}}},F=l(1241);const W=(0,F.A)(_,[["render",f],["__scopeId","data-v-8aab1882"]]);var I=W}}]);
//# sourceMappingURL=745.4c336ebd.js.map